<!DOCTYPE html>
<html>
<head>
	<title>Тестове завдання 1</title>
	<style>{{ source('style.css') }}</style>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<select class="sort">
	<option value='price'>Спочатку дешеві</option>
	<option value='abc'>По алфавіту</option>
	<option value="date">Спочатку нові</option>
</select>
<button class="sort">Сортувати</button>
	<div class="content">
		<div class="categories">
			<ul>
			        {% for category in categories %}
			            <li class="{{ category.id }}">{{ category.title }}</li>
			        {% endfor %}
			    </ul>
		</div>
		<div class="products">
			<ul>
			        {% for product in products %}
			            <li>{{ product.title }} ({{ product.price }}$) {{ product.added }} <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal">Купить</button></li>
			        {% endfor %}
			    </ul>
		</div>
	</div>
	

	<!-- Модальное окно -->  
	<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h4 class="modal-title" id="myModalLabel">Модальное окно </h4>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">×</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <h3>Modal Body</h3>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Вернуться</button>
	        <button type="button" class="btn btn-primary">Оформить заказ</button>
	      </div>
	    </div>
	  </div>
	</div>

<script type="text/javascript">
	$(document).on('show.bs.modal','#modal', function (e) {
	  var button = $(e.relatedTarget)
	  product_li = button.parent().html();
	  var index = product_li.indexOf('<button type="button"');
	  var product = product_li.substring(0, index);
	  $('.modal-body').empty();
	  $('.modal-body').append(product);
	});
</script>


<script type="text/javascript">
	{{ source('main.js') }}
</script>

</body>
</html>